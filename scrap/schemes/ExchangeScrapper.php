<?php/*	****					Modification History								****	********************************************************************************	********************************************************************************	****		Name: 					Haseeb Ahmed							****	****		Date: 					November 06,2012						****		****		Description:			Fetch data from internet				****		********************************************************************************	*********************************************************************************/require_once('ForexScrapper.php');require_once('/../../libs/log4php/Logger.php');Logger::configure('logs/config.xml');class ExchangeScrapper extends ForexScrapper{		private $log;	public function ExchangeScrapper()	{		parent::__construct();		$log = Logger::getLogger('Scrappers');		$this->url = 'http://www.exchangerates.org.uk/usd-pkr-exchange-rate-history.html';		$this->Fetch();	}	public function Parse()	{		preg_match_all("|highest:[\s]+([0-9]+\.[0-9]+)|is",$this->rawData,$matches);		if(isset($matches[1][0]))		{			$this->dollarRate = $matches[1][0];		}		else		{			$log->warn(__CLASS__ . ' - Unable to scrap rates.');			$this->dollarRate = null;		}	}	public function GetParsedData()	{		$this->Parse();		return parent::GetParsedData();	}	public function Fetch()	{		$this->browser->get($this->url);		$this->rawData = $this->browser->getContentAsText();	}}?>